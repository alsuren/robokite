<!DOCTYPE HTML>
<html style="direction: ltr;" lang="fr">
<head>
	<meta content="text/html; charset=UTF-8" http-equiv="content-type"/>
</head>
<body>
  <p>Kite pendulum 2D simulator <a href="https://github.com/baptistelabat/robokite/tree/master/KiteModel/www">(source code)</a><br>
  <output id = "time">0</output>s   <output id = "kiteSpeed">0</output>m/s <output id = "lineTension">0</output>dN<br>
 Power transmitted to winch <output id = "winchPower">0</output>W<br>
 Power transmitted to base <output id = "cartPower">0</output>W<br>
 Power taken from air <output id = "airPower">0</output>W<br>
 Power from weight <output id = "weightPower">0</output>W
    </p>
    <svg xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" version="1.1" width="1000" height="500">
    <marker id="triangle"
      viewBox="0 0 20 20" refX="0" refY="10" 
      markerUnits="strokeWidth"
      markerWidth="8" markerHeight="6"
      orient="auto">
      <path d="M 0 0 L 20 10 L 0 20 z" />
    </marker>
          <g transform="translate(250,350) ">
            <path id="f0" marker-end="url(#triangle)" d="M-250 -100 L-200 -100" fill="transparent" stroke="black"/>
            <path id="f1" marker-end="url(#triangle)" d="M-250 -100 L-200 -100" fill="transparent" stroke="black"/> 
            <path id="f2" marker-end="url(#triangle)" d="M-250 -100 L-200 -100" fill="transparent" stroke="black"/> 
            <path id="f3" marker-end="url(#triangle)" d="M-250 -100 L-200 -100" fill="transparent" stroke="black"/> 
            <path id="f4" marker-end="url(#triangle)" d="M-250 -100 L-200 -100" fill="transparent" stroke="black"/> 
            <path id="f5" marker-end="url(#triangle)" d="M-250 -100 L-200 -100" fill="transparent" stroke="black"/> 
            <path id="f6" marker-end="url(#triangle)" d="M-250 -100 L-200 -100" fill="transparent" stroke="black"/> 
            <path id="f7" marker-end="url(#triangle)" d="M-250 -100 L-200 -100" fill="transparent" stroke="black"/> 
            <path id="f8" marker-end="url(#triangle)" d="M-250 -100 L-200 -100" fill="transparent" stroke="black"/>
            <path id="f9" marker-end="url(#triangle)" d="M-250 -100 L-200 -100" fill="transparent" stroke="black"/>  
            <path id="f10" marker-end="url(#triangle)" d="M-250 -100 L-200 -100" fill="transparent" stroke="red"/>  
            <path id="f11" marker-end="url(#triangle)" d="M-250 -100 L-200 -100" fill="transparent" stroke="black"/>  
            <path id="f12" marker-end="url(#triangle)" d="M-250 -100 L-200 -100" fill="transparent" stroke="black"/>
            <path id="f13" marker-end="url(#triangle)" d="M-250 -100 L-200 -100" fill="transparent" stroke="black"/> 
            <path id="f14" marker-end="url(#triangle)" d="M-250 -100 L-200 -100" fill="transparent" stroke="black"/> 
            <path id="f15" marker-end="url(#triangle)" d="M-250 -100 L-200 -100" fill="transparent" stroke="black"/> 
            <path id="f16" marker-end="url(#triangle)" d="M-250 -100 L-200 -100" fill="transparent" stroke="black"/> 
            <path id="f17" marker-end="url(#triangle)" d="M-250 -100 L-200 -100" fill="transparent" stroke="black"/> 
            <path id="f18" marker-end="url(#triangle)" d="M-250 -100 L-200 -100" fill="transparent" stroke="black"/>
            <path id="f19" marker-end="url(#triangle)" d="M-250 -100 L-200 -100" fill="transparent" stroke="black"/>  
            <path id="f20" marker-end="url(#triangle)" d="M-250 -100 L-200 -100" fill="transparent" stroke="red"/>  
            <path id="f21" marker-end="url(#triangle)" d="M-250 -100 L-200 -100" fill="transparent" stroke="black"/>  
            <path id="f22" marker-end="url(#triangle)" d="M-250 -100 L-200 -100" fill="transparent" stroke="black"/>     
            <line id="kite_line" x1="0" y1="0" x2="300" y2="-150" style="stroke:rgb(0,0,0);stroke-width:2" />   
            <g id="local_frame" transform="translate(300,-150)">
              <g id="kite_frame" transform="rotate(0)">
                <line id="kite" x1="-10" y1="0" x2="20" y2="0" style="stroke:rgb(255,0,0);stroke-width:2" />
              </g>
            </g>
          </g>
    </svg>
    <form action = "">
		<fieldset>
      Angle of key
			<input id = "angleOfKeyRange"
				type = "range"
				min = "0"
				max = "110"
				value = "50"
				step = "1" />
			<output id = "angleOfKey">20</output>°
       Dynamic? <input type="checkbox" id="dynamicCheck" checked =true>
       Elevation
			<input id = "elevationRange"
				type = "range"
				min = "-90"
				max = "90"
				value = "0"
				step = "1" />
			<output id = "elevation">0</output>°
    </fieldset>
      <fieldset>
      Reel speed
			<input id = "reelSpeedRange"
				type = "range"
				min = "-10"
				max = "10"
				value = "0"
				step = "1" />
			<output id = "reelSpeed">0</output>m/s
      Line length
			<input id = "lineLengthRange"
				type = "range"
				min = "2"
				max = "30"
				value = "10"
				step = "1" />
			<output id = "lineLength">10</output>m
      Rigid? <input type="checkbox" id="rigidCheck" checked =true>
    </fieldset>
    <fieldset>
      Fluid velocity
			<input id = "fluidVelocityRange"
				type = "range"
				min = "0"
				max = "20"
				value = "4"
				step = "1" />
			<output id = "fluidVelocity">4</output>m/s
      <select id="fluidSelect">
        <option value="Air">Air</option>
        <option value="Water">Water</option>
      </select>
      Ground? <input type="checkbox" id="groundCheck" checked =true>
      
      zref=10m, Z0
			<input id = "Z0Range"
				type = "range"
				min = "0.00002"
				max = "1.6"
				value = "0.055"
				step = "0.00002" />
			<output id = "Z0">0.055</output>m
			Variation
			<input id = "fluidVelocityVariationPercentRange"
				type = "range"
				min = "0"
				max = "100"
				value = "50"
				step = "1" />
			<output id = "fluidVelocityVariationPercent">50</output>%
			Period
			<input id = "fluidVariationPeriodRange"
				type = "range"
				min = "1"
				max = "100"
				value = "10"
				step = "1" />
			<output id = "fluidVariationPeriod">10</output>s
    </fieldset>
    <fieldset>
      Kite mass
			<input id = "kiteMassRange"
				type = "range"
				min = "0.1"
				max = "100"
				value = "2"
				step = "0.1" />
			<output id = "kiteMass">2</output>kg
        Gravity? <input type="checkbox" id="myCheck" checked =true>
    </fieldset>
    <fieldset>
      Kite surface
			<input id = "kiteSurfaceRange"
				type = "range"
				min = "0"
				max = "20"
				value = "6"
				step = "1" />
			<output id = "kiteSurface">6</output>m2
      Aspect Ratio
      <input id = "aspectRatioRange"
				type = "range"
				min = "1"
				max = "20"
				value = "5"
				step = "1" />
			<output id = "aspectRatio">5</output>
    </fieldset>
    <fieldset>
      Base horizontal speed
			<input id = "yBaseSpeedRange"
				type = "range"
				min = "-10"
				max = "10"
				value = "0"
				step = "1" />
			<output id = "yBaseSpeed">0</output>m/s
      Horizontal base position
			<input id = "yBaseRange"
				type = "range"
				min = "-10"
				max = "10"
				value = "0"
				step = "1" />
			<output id = "yBase">0</output>m
    </fieldset>
	</form>
    <form class="form-horizontal well">
      <legend>
        <h3>
          <div id="title">Polar selection (Xfoil format, can be downloaded from <a href="http://airfoiltools.com/polar/">http://airfoiltools.com/polar/</a>)</div>
        </h3>
        Warning: data are extrapolated.
      </legend>
      <fieldset>
          <label for="csvFileInput"> <strong>CSV File:</strong>
          </label>
          <input type="file" id="csvFileInput" onchange="handleFiles(this.files)"
          accept=".">
        </div>
      </fieldset>
    </form>
    See also <a href="http://www.grc.nasa.gov/WWW/K-12/airplane/kiteprog.html">this Nasa simulator (java applet)</a>
    <div id="output">
    </div>
    <script type = "text/javascript" language="javascript" src = "javascript/three.min.js" charset="utf-8"></script>	
    <script type = "text/javascript" language="javascript" src="javascript/everpolate.browserified.min.js"></script>
	  <script type = "text/javascript" language="javascript" src = "javascript/app.js" charset="utf-8"></script>		
  	<script type = "text/javascript" language="javascript" src = "javascript/read-csv.js" charset="utf-8"></script>
</body>
</html>
            
